{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://browserbox.dev/schemas/package.schema.json",
  "title": "Configuration Package Metadata",
  "description": "Schema for package.json in BrowserBox configuration packages",
  "type": "object",
  "required": [
    "name",
    "version",
    "description"
  ],
  "properties": {
    "name": {
      "type": "string",
      "pattern": "^[a-z0-9-_]+$",
      "minLength": 1,
      "maxLength": 100,
      "description": "Unique package identifier. Must be lowercase, alphanumeric, with hyphens or underscores only."
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+(?:-[a-zA-Z0-9-]+)?$",
      "description": "Semantic version number (e.g., '1.0.0', '2.1.0-beta')"
    },
    "description": {
      "type": "string",
      "minLength": 10,
      "maxLength": 500,
      "description": "Brief description of what this configuration package provides"
    },
    "author": {
      "type": "string",
      "maxLength": 200,
      "description": "Package author name and/or email"
    },
    "created": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of package creation"
    },
    "updated": {
      "type": "string", 
      "format": "date-time",
      "description": "ISO 8601 timestamp of last package update"
    },
    "keywords": {
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 1,
        "maxLength": 50
      },
      "maxItems": 10,
      "description": "Keywords for package discovery and search"
    },
    "license": {
      "type": "string",
      "maxLength": 50,
      "description": "License identifier (e.g., 'MIT', 'Apache-2.0')"
    },
    "homepage": {
      "type": "string",
      "format": "uri",
      "description": "URL to package documentation or homepage"
    },
    "repository": {
      "type": "string",
      "format": "uri", 
      "description": "URL to source code repository"
    },
    "dependencies": {
      "type": "object",
      "properties": {
        "python": {
          "type": "string",
          "description": "Required Python version or range"
        },
        "packages": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Required Python packages beyond standard BrowserBox environment"
        }
      },
      "additionalProperties": false
    },
    "configuration": {
      "type": "object",
      "properties": {
        "minFileSize": {
          "type": "number",
          "minimum": 0,
          "description": "Minimum total file size required (MB)"
        },
        "maxFileSize": {
          "type": "number",
          "minimum": 0,
          "description": "Maximum total file size supported (MB)"
        },
        "requiredFileTypes": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^\\.[a-z0-9]+$"
          },
          "description": "File extensions that must be present for this package to work"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "name": "sales-analysis-config",
      "version": "1.2.0",
      "description": "Comprehensive sales data analysis and forecasting configuration package",
      "author": "Analytics Team <analytics@company.com>",
      "created": "2025-01-01T00:00:00.000Z",
      "updated": "2025-01-20T10:30:00.000Z",
      "keywords": ["sales", "forecasting", "business-intelligence"],
      "license": "MIT",
      "homepage": "https://docs.company.com/analytics/sales-config",
      "repository": "https://github.com/company/analytics-configs",
      "dependencies": {
        "python": ">=3.8",
        "packages": ["prophet", "plotly"]
      },
      "configuration": {
        "minFileSize": 1,
        "maxFileSize": 500,
        "requiredFileTypes": [".csv", ".parquet"]
      }
    }
  ]
}